{"mappings":"IGoBQ,EDpBD,MAAM,EAAO,CAChB,CACI,mBACA,kBACA,EACH,CACD,CACI,mBACA,kBACA,EACH,CACD,CACI,iBACA,mBACA,EACH,CACD,CACI,kBACA,mBACA,EACH,CACD,CACI,kBACA,mBACA,EACH,CACD,CACI,kBACA,mBACA,EACH,CACD,CACI,kBACA,mBACA,EACH,CACD,CACI,kBACA,mBACA,EACH,CACD,CACI,mBACA,mBACA,EACH,CACD,CACI,kBACA,mBACA,EACH,CACD,CACI,kBACA,iBACA,EACH,CACD,CACI,iBACA,kBACA,EACH,CACD,CACI,mBACA,kBACA,EACH,CACD,CACI,mBACA,IACA,EACH,CACD,CACI,kBACA,kBACA,EACH,CACD,CACI,kBACA,kBACA,EACH,CACD,CACI,kBACA,kBACA,EACH,CACD,CACI,kBACA,kBACA,EACH,CACD,CACI,kBACA,mBACA,EACH,CACD,CACI,mBACA,kBACA,EACH,CACD,CACI,mBACA,kBACA,EACH,CACD,CACI,kBACA,kBACA,EACH,CACD,CACI,kBACA,mBACA,EACH,CACD,CACI,kBACA,kBACA,EACH,CACJ,CCzHK,EAAc,CAAC,EAAI,EAAI,KACzB,IAAI,EAAI,KAAK,GAAG,CAAC,CAAE,CAAC,EAAE,CAAG,CAAE,CAAC,EAAE,EAC1B,EAAI,KAAK,GAAG,CAAC,CAAE,CAAC,EAAE,CAAG,CAAE,CAAC,EAAE,EAE9B,OAAO,GAAK,GAAa,GAAK,CAClC,EA0BO,SAAS,EAAS,CAAQ,CAAE,CAAI,EACnC,IAAI,EAAW,CAAA,EAET,EAAc,KAAQ,EAAW,CAAC,CAAS,EAEjD,OAAO,AAAC,IACA,IACJ,IACA,EAAS,GACT,WAAW,EAAa,GAC5B,CACJ,CExCA,MAAM,EAAS,SAAS,aAAa,CAAC,QAChC,EAAU,SAAS,aAAa,CAAC,YACjC,EAAS,SAAS,aAAa,CAAC,WAChC,EAAK,SAAS,aAAa,CAAC,OAC5B,EAAK,SAAS,aAAa,CAAC,OAC5B,EAAO,SAAS,aAAa,CAAC,QAEpC,CAAA,EAAO,KAAK,CAAG,SAAS,aAAa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","sources":["<anon>","script.js","data/dots.js","src/utils.js","src/perceptron.js","src/ui-controller.js"],"sourcesContent":["const $877b248c2695928a$export$15a2497367026b23 = [\n    [\n        0.17117614577581447,\n        0.6120689655172413,\n        1\n    ],\n    [\n        0.13470790378006872,\n        0.4347290640394089,\n        1\n    ],\n    [\n        0.281786941580756,\n        0.32019704433497537,\n        1\n    ],\n    [\n        0.3357261181667587,\n        0.20197044334975367,\n        1\n    ],\n    [\n        0.5284373274434014,\n        0.27216748768472904,\n        1\n    ],\n    [\n        0.5814432989690722,\n        0.06403940886699508,\n        1\n    ],\n    [\n        0.7237113402061855,\n        0.15886699507389163,\n        1\n    ],\n    [\n        0.1697594501718213,\n        0.07019704433497537,\n        1\n    ],\n    [\n        0.09484536082474226,\n        0.23645320197044334,\n        1\n    ],\n    [\n        0.4350515463917526,\n        0.07881773399014778,\n        1\n    ],\n    [\n        0.4108227498619547,\n        0.270935960591133,\n        1\n    ],\n    [\n        0.936764705882353,\n        0.0753694581280788,\n        1\n    ],\n    [\n        0.15395189003436427,\n        0.9137931034482759,\n        0\n    ],\n    [\n        0.17448923246824957,\n        0.75,\n        0\n    ],\n    [\n        0.3804527885146328,\n        0.6724137931034483,\n        0\n    ],\n    [\n        0.7448923246824959,\n        0.6576354679802956,\n        0\n    ],\n    [\n        0.3511871893981226,\n        0.7610837438423645,\n        0\n    ],\n    [\n        0.8602981778023192,\n        0.7955665024630542,\n        0\n    ],\n    [\n        0.8166758696852567,\n        0.28448275862068967,\n        0\n    ],\n    [\n        0.49530646051905025,\n        0.4544334975369458,\n        0\n    ],\n    [\n        0.33020430701270015,\n        0.7007389162561576,\n        0\n    ],\n    [\n        0.6697956929872998,\n        0.7216748768472906,\n        0\n    ],\n    [\n        0.8148395721925134,\n        0.42118226600985226,\n        0\n    ],\n    [\n        0.9659090909090909,\n        0.5603448275862069,\n        0\n    ]\n];\n\n\nconst $820877bea407f5fe$var$isSamePoint = (p1, p2, tolerance)=>{\n    let x = Math.abs(p1[0] - p2[0]);\n    let y = Math.abs(p1[1] - p2[1]);\n    return x <= tolerance && y <= tolerance;\n};\nfunction $820877bea407f5fe$export$225c955515d3cd8b(src, point, tolerance = 0) {\n    return src.findIndex((srcPoint)=>$820877bea407f5fe$var$isSamePoint(srcPoint, point, tolerance));\n}\nfunction $820877bea407f5fe$export$448332262467e042(array) {\n    return array.sort(()=>Math.random() - 0.5);\n}\nfunction $820877bea407f5fe$export$e772c8ff12451969(ms) {\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n}\nfunction $820877bea407f5fe$export$61fc7d43ac8f84b0(callback, time) {\n    let timeout;\n    return ()=>{\n        if (timeout) clearTimeout(timeout);\n        timeout = setTimeout(callback, time);\n    };\n}\nfunction $820877bea407f5fe$export$de363e709c412c8a(callback, time) {\n    let isPaused = false;\n    const togglePause = ()=>{\n        isPaused = !isPaused;\n    };\n    return (event)=>{\n        if (isPaused) return;\n        togglePause();\n        callback(event);\n        setTimeout(togglePause, time);\n    };\n}\n\n\nfunction $a944f6a17d15402c$var$innerProduct(v1, v2) {\n    let sum = 0;\n    for(let i = 0; i < v1.length; i++)sum += v1[i] * v2[i];\n    return sum;\n}\nfunction $a944f6a17d15402c$var$activation(x) {\n    // threshold activation function\n    return x >= 0 ? 1 : 0;\n}\nfunction $a944f6a17d15402c$export$457a393864ea51e9(inputs, labels, weights, bias, learnRate) {\n    let updatedWeights = false;\n    for(let i = 0; i < inputs.length; i++){\n        const prediction = $a944f6a17d15402c$var$activation($a944f6a17d15402c$var$innerProduct(inputs[i], weights) + bias);\n        if (prediction === labels[i]) continue;\n        const alpha = (labels[i] - prediction) * learnRate;\n        bias += alpha;\n        for(let j = 0; j < inputs[i].length; j++)weights[j] += alpha * inputs[i][j];\n        updatedWeights = true;\n    }\n    return {\n        bias: bias,\n        updatedWeights: updatedWeights\n    };\n}\n\n\n\nconst $b1758e9a8789aa96$var$btnRun = document.querySelector(\"#run\");\nconst $b1758e9a8789aa96$var$message = document.querySelector(\"#message\");\nconst $b1758e9a8789aa96$var$epochs = document.querySelector(\"#epochs\");\nconst $b1758e9a8789aa96$var$w1 = document.querySelector(\"#w1\");\nconst $b1758e9a8789aa96$var$w2 = document.querySelector(\"#w2\");\nconst $b1758e9a8789aa96$var$bias = document.querySelector(\"#bias\");\n$b1758e9a8789aa96$var$epochs.label = document.querySelector('label[for=\"epochs\"]');\n$b1758e9a8789aa96$var$w1.label = document.querySelector('label[for=\"w1\"]');\n$b1758e9a8789aa96$var$w2.label = document.querySelector('label[for=\"w2\"]');\n$b1758e9a8789aa96$var$bias.label = document.querySelector('label[for=\"bias\"]');\nlet $b1758e9a8789aa96$var$drawFunction = ()=>{};\nconst $b1758e9a8789aa96$var$debounceTime = 20;\nfunction $b1758e9a8789aa96$var$set(field, value, min = -1, max = 1) {\n    value = parseFloat(value) || 0;\n    field.value = value;\n    field.title = value;\n    value = Number.isInteger(value) ? value : value.toFixed(2);\n    field.label?.setAttribute(\"data-value\", value);\n}\nfunction $b1758e9a8789aa96$var$getParams() {\n    return [\n        [\n            parseFloat($b1758e9a8789aa96$var$w1.value),\n            parseFloat($b1758e9a8789aa96$var$w2.value)\n        ],\n        parseFloat($b1758e9a8789aa96$var$bias.value),\n        parseFloat($b1758e9a8789aa96$var$epochs.value)\n    ];\n}\nfunction $b1758e9a8789aa96$export$dc1827290674c112(weigths, b, eps) {\n    $b1758e9a8789aa96$var$set($b1758e9a8789aa96$var$w1, weigths[0]);\n    $b1758e9a8789aa96$var$set($b1758e9a8789aa96$var$w2, weigths[1]);\n    $b1758e9a8789aa96$var$set($b1758e9a8789aa96$var$bias, b);\n    $b1758e9a8789aa96$var$set($b1758e9a8789aa96$var$epochs, eps, 1, 50);\n}\nfunction $b1758e9a8789aa96$export$2b0e785bd1522aaa(fnc) {\n    $b1758e9a8789aa96$var$btnRun.onclick = ()=>{\n        $b1758e9a8789aa96$var$message.classList.add(\"hide\");\n        let p = $b1758e9a8789aa96$var$getParams();\n        fnc(p[0], p[1], p[2]);\n    };\n}\nfunction $b1758e9a8789aa96$export$27c7d1827cedd1db(func) {\n    $b1758e9a8789aa96$var$drawFunction = func;\n}\nlet $b1758e9a8789aa96$var$onUiUpdate = ()=>{\n    let p = $b1758e9a8789aa96$var$getParams();\n    $b1758e9a8789aa96$var$drawFunction(p[0], p[1], p[2]);\n};\nfunction $b1758e9a8789aa96$var$onInput(event) {\n    $b1758e9a8789aa96$var$set(event.target, event.target.value);\n    $b1758e9a8789aa96$var$onUiUpdate();\n}\n$b1758e9a8789aa96$var$epochs.addEventListener(\"input\", $b1758e9a8789aa96$var$onInput);\n$b1758e9a8789aa96$var$w1.addEventListener(\"input\", (0, $820877bea407f5fe$export$de363e709c412c8a)($b1758e9a8789aa96$var$onInput, $b1758e9a8789aa96$var$debounceTime));\n$b1758e9a8789aa96$var$w2.addEventListener(\"input\", $b1758e9a8789aa96$var$onInput);\n$b1758e9a8789aa96$var$bias.addEventListener(\"input\", $b1758e9a8789aa96$var$onInput);\n\n\n// Setting canvas & context\nconst $c1ce9d969bfa6909$var$canvas = document.querySelector(\"#canvas\");\nconst $c1ce9d969bfa6909$var$ctx = $c1ce9d969bfa6909$var$canvas.getContext(\"2d\");\n// colors\nconst $c1ce9d969bfa6909$var$OGRE = \"#FA5241\";\nconst $c1ce9d969bfa6909$var$AZURE = \"#4194FA\";\nconst $c1ce9d969bfa6909$var$OPACITY = \"99\";\n// Setting some aux constants\nconst $c1ce9d969bfa6909$var$RADIUS = 7;\nconst $c1ce9d969bfa6909$var$AXIS_OFFSET = 15;\nconst $c1ce9d969bfa6909$var$TWO_PI = 2 * Math.PI;\n// Utils variables\nconst $c1ce9d969bfa6909$var$hoveredCoords = [\n    -1,\n    -1\n];\nlet $c1ce9d969bfa6909$var$hoveredPoint = null;\nlet $c1ce9d969bfa6909$var$selectedPoint = null;\nlet $c1ce9d969bfa6909$var$lastHoveredIndex = -1;\n// Main parameters\nlet $c1ce9d969bfa6909$var$weights = [\n    Math.random(),\n    Math.random() - 1\n];\nlet $c1ce9d969bfa6909$var$bias = 0;\nlet $c1ce9d969bfa6909$var$epochs = 50;\nasync function $c1ce9d969bfa6909$var$perceptron(W, b, eps) {\n    const points = (0, $820877bea407f5fe$export$448332262467e042)((0, $877b248c2695928a$export$15a2497367026b23));\n    const inputs = points.map((e)=>[\n            e[0],\n            e[1]\n        ]);\n    const labels = points.map((e)=>e[2]);\n    $c1ce9d969bfa6909$var$weights[0] = W[0];\n    $c1ce9d969bfa6909$var$weights[1] = W[1];\n    $c1ce9d969bfa6909$var$bias = b;\n    $c1ce9d969bfa6909$var$epochs = eps;\n    let result;\n    for(let i = 0; i < $c1ce9d969bfa6909$var$epochs; i++){\n        result = (0, $a944f6a17d15402c$export$457a393864ea51e9)(inputs, labels, $c1ce9d969bfa6909$var$weights, $c1ce9d969bfa6909$var$bias, 0.1);\n        $c1ce9d969bfa6909$var$bias = result.bias;\n        requestAnimationFrame($c1ce9d969bfa6909$var$draw);\n        (0, $b1758e9a8789aa96$export$dc1827290674c112)($c1ce9d969bfa6909$var$weights, $c1ce9d969bfa6909$var$bias, $c1ce9d969bfa6909$var$epochs);\n        if (!result.updatedWeights) {\n            const message = document.getElementById(\"message\");\n            message.classList.remove(\"hide\");\n            setTimeout(()=>{\n                message.classList.add(\"hide\");\n            }, 1500);\n            break;\n        }\n        await (0, $820877bea407f5fe$export$e772c8ff12451969)(200);\n    }\n}\nfunction $c1ce9d969bfa6909$var$draw() {\n    $c1ce9d969bfa6909$var$ctx.clearRect(-15, -15, $c1ce9d969bfa6909$var$canvas.width, $c1ce9d969bfa6909$var$canvas.height);\n    $c1ce9d969bfa6909$var$paintClassifier($c1ce9d969bfa6909$var$weights, $c1ce9d969bfa6909$var$bias);\n    $c1ce9d969bfa6909$var$paintPoints((0, $877b248c2695928a$export$15a2497367026b23));\n    if ($c1ce9d969bfa6909$var$hoveredPoint) $c1ce9d969bfa6909$var$highlightPoint($c1ce9d969bfa6909$var$hoveredPoint);\n    // paint axis\n    $c1ce9d969bfa6909$var$ctx.beginPath();\n    $c1ce9d969bfa6909$var$ctx.moveTo(0, -$c1ce9d969bfa6909$var$AXIS_OFFSET);\n    $c1ce9d969bfa6909$var$ctx.lineTo(0, $c1ce9d969bfa6909$var$canvas.height - $c1ce9d969bfa6909$var$AXIS_OFFSET);\n    $c1ce9d969bfa6909$var$ctx.lineTo(10, $c1ce9d969bfa6909$var$canvas.height - $c1ce9d969bfa6909$var$AXIS_OFFSET - 20);\n    $c1ce9d969bfa6909$var$ctx.lineTo(0, $c1ce9d969bfa6909$var$canvas.height - $c1ce9d969bfa6909$var$AXIS_OFFSET);\n    $c1ce9d969bfa6909$var$ctx.lineTo(-10, $c1ce9d969bfa6909$var$canvas.height - $c1ce9d969bfa6909$var$AXIS_OFFSET - 20);\n    $c1ce9d969bfa6909$var$ctx.moveTo(-$c1ce9d969bfa6909$var$AXIS_OFFSET, 0);\n    $c1ce9d969bfa6909$var$ctx.lineTo($c1ce9d969bfa6909$var$canvas.width - $c1ce9d969bfa6909$var$AXIS_OFFSET, 0);\n    $c1ce9d969bfa6909$var$ctx.lineTo($c1ce9d969bfa6909$var$canvas.width - $c1ce9d969bfa6909$var$AXIS_OFFSET - 20, 10);\n    $c1ce9d969bfa6909$var$ctx.lineTo($c1ce9d969bfa6909$var$canvas.width - $c1ce9d969bfa6909$var$AXIS_OFFSET, 0);\n    $c1ce9d969bfa6909$var$ctx.lineTo($c1ce9d969bfa6909$var$canvas.width - $c1ce9d969bfa6909$var$AXIS_OFFSET - 20, -10);\n    $c1ce9d969bfa6909$var$ctx.lineWidth = 3;\n    $c1ce9d969bfa6909$var$ctx.strokeStyle = \"black\";\n    $c1ce9d969bfa6909$var$ctx.stroke();\n}\nfunction $c1ce9d969bfa6909$var$eventToCanvasCords(event) {\n    $c1ce9d969bfa6909$var$hoveredCoords[0] = (event.offsetX - $c1ce9d969bfa6909$var$AXIS_OFFSET) / $c1ce9d969bfa6909$var$canvas.clientWidth;\n    $c1ce9d969bfa6909$var$hoveredCoords[1] = 1 - (event.offsetY + $c1ce9d969bfa6909$var$AXIS_OFFSET) / $c1ce9d969bfa6909$var$canvas.clientHeight;\n}\nfunction $c1ce9d969bfa6909$var$paintArea(yIntercept, endX, endY, sign) {\n    let color;\n    color = sign > 0 ? $c1ce9d969bfa6909$var$AZURE : $c1ce9d969bfa6909$var$OGRE;\n    $c1ce9d969bfa6909$var$ctx.fillStyle = color + $c1ce9d969bfa6909$var$OPACITY;\n    $c1ce9d969bfa6909$var$ctx.beginPath();\n    $c1ce9d969bfa6909$var$ctx.moveTo(0, yIntercept);\n    $c1ce9d969bfa6909$var$ctx.lineTo(0, $c1ce9d969bfa6909$var$canvas.height);\n    $c1ce9d969bfa6909$var$ctx.lineTo(endX, $c1ce9d969bfa6909$var$canvas.height);\n    $c1ce9d969bfa6909$var$ctx.lineTo(endX, endY);\n    $c1ce9d969bfa6909$var$ctx.closePath();\n    $c1ce9d969bfa6909$var$ctx.fill();\n    color = sign > 0 ? $c1ce9d969bfa6909$var$OGRE : $c1ce9d969bfa6909$var$AZURE;\n    let min = Math.min(0, endY, yIntercept);\n    $c1ce9d969bfa6909$var$ctx.fillStyle = color + $c1ce9d969bfa6909$var$OPACITY;\n    $c1ce9d969bfa6909$var$ctx.beginPath();\n    $c1ce9d969bfa6909$var$ctx.moveTo(0, yIntercept);\n    $c1ce9d969bfa6909$var$ctx.lineTo(0, min);\n    $c1ce9d969bfa6909$var$ctx.lineTo(endX, min);\n    $c1ce9d969bfa6909$var$ctx.lineTo(endX, endY);\n    $c1ce9d969bfa6909$var$ctx.closePath();\n    $c1ce9d969bfa6909$var$ctx.fill();\n}\nfunction $c1ce9d969bfa6909$var$paintClassifier(weights, bias) {\n    const [w1, w2] = weights;\n    const yIntercept = bias / -w2 * $c1ce9d969bfa6909$var$canvas.height;\n    const endX = $c1ce9d969bfa6909$var$canvas.width;\n    const endY = (w1 + bias) / -w2 * $c1ce9d969bfa6909$var$canvas.height;\n    $c1ce9d969bfa6909$var$paintArea(yIntercept, endX, endY, Math.sign(w2));\n    $c1ce9d969bfa6909$var$ctx.beginPath();\n    $c1ce9d969bfa6909$var$ctx.lineWidth = 1;\n    $c1ce9d969bfa6909$var$ctx.strokeStyle = \"black\";\n    $c1ce9d969bfa6909$var$ctx.moveTo(0, yIntercept);\n    $c1ce9d969bfa6909$var$ctx.lineTo(endX, endY);\n    $c1ce9d969bfa6909$var$ctx.stroke();\n}\nfunction $c1ce9d969bfa6909$var$paintPoints(points) {\n    for (let point of points){\n        $c1ce9d969bfa6909$var$ctx.fillStyle = point[2] === 1 ? \"blue\" : \"red\";\n        $c1ce9d969bfa6909$var$ctx.beginPath();\n        $c1ce9d969bfa6909$var$ctx.arc(point[0] * $c1ce9d969bfa6909$var$canvas.width, point[1] * $c1ce9d969bfa6909$var$canvas.height, $c1ce9d969bfa6909$var$RADIUS, 0, $c1ce9d969bfa6909$var$TWO_PI);\n        $c1ce9d969bfa6909$var$ctx.fill();\n    }\n}\nfunction $c1ce9d969bfa6909$var$highlightPoint(point) {\n    $c1ce9d969bfa6909$var$ctx.strokeStyle = \"black\";\n    $c1ce9d969bfa6909$var$ctx.lineWidth = 2;\n    $c1ce9d969bfa6909$var$ctx.beginPath();\n    $c1ce9d969bfa6909$var$ctx.arc(point[0] * $c1ce9d969bfa6909$var$canvas.width, point[1] * $c1ce9d969bfa6909$var$canvas.height, $c1ce9d969bfa6909$var$RADIUS, 0, $c1ce9d969bfa6909$var$TWO_PI);\n    $c1ce9d969bfa6909$var$ctx.stroke();\n}\nfunction $c1ce9d969bfa6909$var$hoverPoint() {\n    // x < 0 OR y < 0\n    if ($c1ce9d969bfa6909$var$hoveredCoords[0] < 0 || $c1ce9d969bfa6909$var$hoveredCoords[1] < 0) return;\n    const tolerance = 0.02;\n    let index = (0, $820877bea407f5fe$export$225c955515d3cd8b)((0, $877b248c2695928a$export$15a2497367026b23), $c1ce9d969bfa6909$var$hoveredCoords, tolerance);\n    if (index !== $c1ce9d969bfa6909$var$lastHoveredIndex) {\n        $c1ce9d969bfa6909$var$hoveredPoint = (0, $877b248c2695928a$export$15a2497367026b23)[index];\n        requestAnimationFrame($c1ce9d969bfa6909$var$draw);\n        $c1ce9d969bfa6909$var$canvas.style.cursor = $c1ce9d969bfa6909$var$hoveredCoords ? \"pointer\" : \"\";\n        $c1ce9d969bfa6909$var$lastHoveredIndex = index;\n    }\n}\nfunction $c1ce9d969bfa6909$var$panSelectedPoint(event) {\n    if (!$c1ce9d969bfa6909$var$selectedPoint) return;\n    $c1ce9d969bfa6909$var$selectedPoint[0] = $c1ce9d969bfa6909$var$hoveredCoords[0];\n    $c1ce9d969bfa6909$var$selectedPoint[1] = $c1ce9d969bfa6909$var$hoveredCoords[1];\n    requestAnimationFrame($c1ce9d969bfa6909$var$draw);\n}\nfunction $c1ce9d969bfa6909$var$handleMouseMove(event) {\n    $c1ce9d969bfa6909$var$eventToCanvasCords(event);\n    if ($c1ce9d969bfa6909$var$selectedPoint) {\n        $c1ce9d969bfa6909$var$panSelectedPoint(event);\n        return;\n    }\n    $c1ce9d969bfa6909$var$hoverPoint(event);\n}\nfunction $c1ce9d969bfa6909$var$createPointFromClick(event) {\n    if (Boolean($c1ce9d969bfa6909$var$hoveredPoint)) return;\n    if (event.button === 1 || event.button > 2) return;\n    if ($c1ce9d969bfa6909$var$hoveredCoords[0] < 0 || $c1ce9d969bfa6909$var$hoveredCoords[1] < 0) return;\n    const label = event.button === 0 ? 1 : 0;\n    (0, $877b248c2695928a$export$15a2497367026b23).push([\n        ...$c1ce9d969bfa6909$var$hoveredCoords,\n        label\n    ]);\n    requestAnimationFrame($c1ce9d969bfa6909$var$draw);\n}\nfunction $c1ce9d969bfa6909$var$handleMouseDown(event) {\n    if (Boolean($c1ce9d969bfa6909$var$hoveredPoint)) {\n        $c1ce9d969bfa6909$var$selectedPoint = $c1ce9d969bfa6909$var$hoveredPoint;\n        return;\n    }\n    $c1ce9d969bfa6909$var$createPointFromClick(event);\n}\nfunction $c1ce9d969bfa6909$var$handleMouseUp() {\n    $c1ce9d969bfa6909$var$hoveredPoint = null;\n    $c1ce9d969bfa6909$var$selectedPoint = null;\n    requestAnimationFrame($c1ce9d969bfa6909$var$draw);\n}\nfunction $c1ce9d969bfa6909$var$resize() {\n    // that couple lines below don't guarantee that width and height will be equals to clientWidth and clientHeight\n    // it looks like that when chaging width/height the clientWidth/Height changes\n    $c1ce9d969bfa6909$var$canvas.width = $c1ce9d969bfa6909$var$canvas.clientWidth;\n    $c1ce9d969bfa6909$var$canvas.height = $c1ce9d969bfa6909$var$canvas.clientHeight;\n    $c1ce9d969bfa6909$var$ctx.transform(1, 0, 0, -1, 0, $c1ce9d969bfa6909$var$canvas.height);\n    $c1ce9d969bfa6909$var$ctx.translate($c1ce9d969bfa6909$var$AXIS_OFFSET, $c1ce9d969bfa6909$var$AXIS_OFFSET);\n    requestAnimationFrame($c1ce9d969bfa6909$var$draw);\n}\nfunction $c1ce9d969bfa6909$var$onUiUpdate(W, b, eps) {\n    $c1ce9d969bfa6909$var$weights[0] = W[0];\n    $c1ce9d969bfa6909$var$weights[1] = W[1];\n    $c1ce9d969bfa6909$var$bias = b;\n    $c1ce9d969bfa6909$var$epochs = eps;\n    requestAnimationFrame($c1ce9d969bfa6909$var$draw);\n}\nwindow.addEventListener(\"resize\", (0, $820877bea407f5fe$export$61fc7d43ac8f84b0)($c1ce9d969bfa6909$var$resize, 200));\n$c1ce9d969bfa6909$var$canvas.addEventListener(\"contextmenu\", (event)=>event.preventDefault());\n$c1ce9d969bfa6909$var$canvas.addEventListener(\"mousemove\", (0, $820877bea407f5fe$export$de363e709c412c8a)($c1ce9d969bfa6909$var$handleMouseMove, 20));\n$c1ce9d969bfa6909$var$canvas.addEventListener(\"mousedown\", $c1ce9d969bfa6909$var$handleMouseDown);\n$c1ce9d969bfa6909$var$canvas.addEventListener(\"mouseup\", $c1ce9d969bfa6909$var$handleMouseUp);\n(0, $b1758e9a8789aa96$export$dc1827290674c112)($c1ce9d969bfa6909$var$weights, $c1ce9d969bfa6909$var$bias, $c1ce9d969bfa6909$var$epochs);\n(0, $b1758e9a8789aa96$export$2b0e785bd1522aaa)($c1ce9d969bfa6909$var$perceptron);\n(0, $b1758e9a8789aa96$export$27c7d1827cedd1db)($c1ce9d969bfa6909$var$onUiUpdate);\n$c1ce9d969bfa6909$var$resize();\n\n\n//# sourceMappingURL=index.45824350.js.map\n","import { DATA } from \"./data/dots\";\nimport { pointIndex, shuffle, debounce, throttle, sleep } from \"./src/utils\";\nimport { trainStep } from \"./src/perceptron\";\nimport { setDrawFunction, setParams, setRunFunction } from './src/ui-controller';\n\n// Setting canvas & context\nconst canvas = document.querySelector(\"#canvas\");\nconst ctx = canvas.getContext(\"2d\");\n\n// colors\nconst OGRE = \"#FA5241\";\nconst AZURE = \"#4194FA\";\nconst OPACITY = \"99\";\n\n// Setting some aux constants\nconst RADIUS = 7;\nconst AXIS_OFFSET = 15;\nconst TWO_PI = 2 * Math.PI;\n\n// Utils variables\nconst hoveredCoords = [-1, -1];\nlet hoveredPoint = null;\nlet selectedPoint = null;\nlet lastHoveredIndex = -1;\n\n// Main parameters\nlet weights = [Math.random(), Math.random() - 1];\nlet bias = 0;\nlet epochs = 50;\n\nasync function perceptron(W, b, eps) {\n    const points = shuffle(DATA);\n    const inputs = points.map(e => [e[0], e[1]]);\n    const labels = points.map(e => e[2])\n\n    weights[0] = W[0];\n    weights[1] = W[1];\n    bias = b;\n    epochs = eps;\n\n    let result;\n    for (let i = 0; i < epochs; i++) {\n        result = trainStep(inputs, labels, weights, bias, 0.1)\n        bias = result.bias;\n\n        requestAnimationFrame(draw)\n        setParams(weights, bias, epochs);\n\n        if (!result.updatedWeights) {\n            const message = document.getElementById(\"message\");\n            message.classList.remove(\"hide\");\n            setTimeout(() => {\n                message.classList.add(\"hide\");\n            }, 1500);\n            break;\n        }\n\n        await sleep(200);\n    }\n}\n\nfunction draw() {\n    ctx.clearRect(-15, -15, canvas.width, canvas.height);\n\n    paintClassifier(weights, bias);\n\n    paintPoints(DATA);\n\n    if (hoveredPoint) {\n        highlightPoint(hoveredPoint);\n    }\n\n    // paint axis\n    ctx.beginPath();\n\n    ctx.moveTo(0, -AXIS_OFFSET);\n    ctx.lineTo(0, canvas.height - AXIS_OFFSET)\n    ctx.lineTo(10, canvas.height - AXIS_OFFSET - 20);\n    ctx.lineTo(0, canvas.height - AXIS_OFFSET)\n    ctx.lineTo(-10, canvas.height - AXIS_OFFSET - 20);\n\n    ctx.moveTo(-AXIS_OFFSET, 0);\n    ctx.lineTo(canvas.width - AXIS_OFFSET, 0);\n    ctx.lineTo(canvas.width - AXIS_OFFSET - 20, 10);\n    ctx.lineTo(canvas.width - AXIS_OFFSET, 0);\n    ctx.lineTo(canvas.width - AXIS_OFFSET - 20, -10);\n\n    ctx.lineWidth = 3\n    ctx.strokeStyle = 'black';\n    ctx.stroke();\n}\n\nfunction eventToCanvasCords(event) {\n    hoveredCoords[0] = (event.offsetX - AXIS_OFFSET) / canvas.clientWidth;\n    hoveredCoords[1] = 1 - (event.offsetY + AXIS_OFFSET) / canvas.clientHeight;\n}\n\nfunction paintArea(yIntercept, endX, endY, sign) {\n    let color;\n\n    color = sign > 0 ? AZURE : OGRE;\n    ctx.fillStyle = color + OPACITY;\n    ctx.beginPath();\n    ctx.moveTo(0, yIntercept);\n    ctx.lineTo(0, canvas.height);\n    ctx.lineTo(endX, canvas.height);\n    ctx.lineTo(endX, endY);\n    ctx.closePath();\n    ctx.fill();\n\n    color = sign > 0 ? OGRE : AZURE;\n    let min = Math.min(0, endY, yIntercept);\n    ctx.fillStyle = color + OPACITY;\n    ctx.beginPath();\n    ctx.moveTo(0, yIntercept);\n    ctx.lineTo(0, min);\n    ctx.lineTo(endX, min);\n    ctx.lineTo(endX, endY);\n    ctx.closePath();\n    ctx.fill();\n}\n\nfunction paintClassifier(weights, bias) {\n    const [w1, w2] = weights;\n\n    const yIntercept = (bias / -w2) * canvas.height;\n    const endX = canvas.width;\n    const endY = ((w1 + bias) / -w2) * canvas.height;\n\n    paintArea(yIntercept, endX, endY, Math.sign(w2));\n\n    ctx.beginPath()\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = \"black\";\n\n    ctx.moveTo(0, yIntercept)\n    ctx.lineTo(endX, endY)\n    ctx.stroke();\n}\n\nfunction paintPoints(points) {\n    for (let point of points) {\n        ctx.fillStyle = point[2] === 1 ? 'blue' : 'red';\n        ctx.beginPath();\n        ctx.arc(point[0] * canvas.width, point[1] * canvas.height, RADIUS, 0, TWO_PI);\n        ctx.fill();\n    }\n}\n\nfunction highlightPoint(point) {\n    ctx.strokeStyle = 'black';\n    ctx.lineWidth = 2;\n\n    ctx.beginPath();\n    ctx.arc(point[0] * canvas.width, point[1] * canvas.height, RADIUS, 0, TWO_PI);\n    ctx.stroke();\n\n}\n\nfunction hoverPoint() {\n    // x < 0 OR y < 0\n    if (hoveredCoords[0] < 0 || hoveredCoords[1] < 0) {\n        return;\n    }\n\n    const tolerance = 0.02;\n    let index = pointIndex(DATA, hoveredCoords, tolerance);\n\n    if (index !== lastHoveredIndex) {\n        hoveredPoint = DATA[index];\n        requestAnimationFrame(draw);\n        canvas.style.cursor = hoveredCoords ? 'pointer' : '';\n        lastHoveredIndex = index;\n    }\n}\n\nfunction panSelectedPoint(event) {\n    if (!selectedPoint) {\n        return;\n    }\n\n    selectedPoint[0] = hoveredCoords[0]\n    selectedPoint[1] = hoveredCoords[1]\n    requestAnimationFrame(draw);\n}\n\nfunction handleMouseMove(event) {\n    eventToCanvasCords(event);\n\n    if (selectedPoint) {\n        panSelectedPoint(event);\n        return;\n    }\n\n    hoverPoint(event);\n}\n\nfunction createPointFromClick(event) {\n    if (Boolean(hoveredPoint)) {\n        return;\n    }\n\n    if (event.button === 1 || event.button > 2) {\n        return;\n    }\n\n    if (hoveredCoords[0] < 0 || hoveredCoords[1] < 0) {\n        return;\n    }\n\n    const label = event.button === 0 ? 1 : 0;\n    DATA.push([...hoveredCoords, label]);\n    requestAnimationFrame(draw);\n}\n\nfunction handleMouseDown(event) {\n    if (Boolean(hoveredPoint)) {\n        selectedPoint = hoveredPoint;\n        return;\n    }\n\n    createPointFromClick(event);\n}\n\nfunction handleMouseUp() {\n    hoveredPoint = null;\n    selectedPoint = null;\n    requestAnimationFrame(draw);\n}\n\nfunction resize() {\n    // that couple lines below don't guarantee that width and height will be equals to clientWidth and clientHeight\n    // it looks like that when chaging width/height the clientWidth/Height changes\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    ctx.transform(1, 0, 0, -1, 0, canvas.height)\n    ctx.translate(AXIS_OFFSET, AXIS_OFFSET);\n    requestAnimationFrame(draw)\n}\n\nfunction onUiUpdate(W, b, eps) {\n    weights[0] = W[0];\n    weights[1] = W[1];\n    bias = b;\n    epochs = eps;\n\n    requestAnimationFrame(draw);\n}\n\nwindow.addEventListener('resize', debounce(resize, 200))\n\ncanvas.addEventListener('contextmenu', (event) => event.preventDefault());\ncanvas.addEventListener('mousemove', throttle(handleMouseMove, 20));\ncanvas.addEventListener('mousedown', handleMouseDown);\ncanvas.addEventListener('mouseup', handleMouseUp);\n\nsetParams(weights, bias, epochs);\nsetRunFunction(perceptron);\nsetDrawFunction(onUiUpdate);\nresize();\n","export const DATA = [\n    [\n        0.17117614577581447,\n        0.6120689655172413,\n        1\n    ],\n    [\n        0.13470790378006872,\n        0.4347290640394089,\n        1\n    ],\n    [\n        0.281786941580756,\n        0.32019704433497537,\n        1\n    ],\n    [\n        0.3357261181667587,\n        0.20197044334975367,\n        1\n    ],\n    [\n        0.5284373274434014,\n        0.27216748768472904,\n        1\n    ],\n    [\n        0.5814432989690722,\n        0.06403940886699508,\n        1\n    ],\n    [\n        0.7237113402061855,\n        0.15886699507389163,\n        1\n    ],\n    [\n        0.1697594501718213,\n        0.07019704433497537,\n        1\n    ],\n    [\n        0.09484536082474226,\n        0.23645320197044334,\n        1\n    ],\n    [\n        0.4350515463917526,\n        0.07881773399014778,\n        1\n    ],\n    [\n        0.4108227498619547,\n        0.270935960591133,\n        1\n    ],\n    [\n        0.936764705882353,\n        0.0753694581280788,\n        1\n    ],\n    [\n        0.15395189003436427,\n        0.9137931034482759,\n        0\n    ],\n    [\n        0.17448923246824957,\n        0.75,\n        0\n    ],\n    [\n        0.3804527885146328,\n        0.6724137931034483,\n        0\n    ],\n    [\n        0.7448923246824959,\n        0.6576354679802956,\n        0\n    ],\n    [\n        0.3511871893981226,\n        0.7610837438423645,\n        0\n    ],\n    [\n        0.8602981778023192,\n        0.7955665024630542,\n        0\n    ],\n    [\n        0.8166758696852567,\n        0.28448275862068967,\n        0\n    ],\n    [\n        0.49530646051905025,\n        0.4544334975369458,\n        0\n    ],\n    [\n        0.33020430701270015,\n        0.7007389162561576,\n        0\n    ],\n    [\n        0.6697956929872998,\n        0.7216748768472906,\n        0\n    ],\n    [\n        0.8148395721925134,\n        0.42118226600985226,\n        0\n    ],\n    [\n        0.9659090909090909,\n        0.5603448275862069,\n        0\n    ]\n];\n","const isSamePoint = (p1, p2, tolerance) => {\n    let x = Math.abs(p1[0] - p2[0]);\n    let y = Math.abs(p1[1] - p2[1]);\n\n    return x <= tolerance && y <= tolerance;\n}\n\nexport function pointIndex(src, point, tolerance = 0) {\n    return src.findIndex((srcPoint) => isSamePoint(srcPoint, point, tolerance));\n}\n\nexport function shuffle(array) {\n    return array.sort(() => Math.random() - 0.5);\n}\n\nexport function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport function debounce(callback, time) {\n    let timeout;\n\n    return () => {\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n\n        timeout = setTimeout(callback, time)\n    }\n}\n\nexport function throttle(callback, time) {\n    let isPaused = false;\n\n    const togglePause = () => { isPaused = !isPaused };\n\n    return (event) => {\n        if (isPaused) return;\n        togglePause();\n        callback(event);\n        setTimeout(togglePause, time)\n    }\n}","function innerProduct(v1, v2) {\n    let sum = 0;\n    for (let i = 0; i < v1.length; i++) {\n        sum += v1[i] * v2[i];\n    }\n    return sum;\n}\n\nfunction activation(x) {\n    // threshold activation function\n    return x >= 0 ? 1 : 0;\n}\n\n\nexport function trainStep(inputs, labels, weights, bias, learnRate) {\n    let updatedWeights = false;\n    for (let i = 0; i < inputs.length; i++) {\n        const prediction = activation(\n            innerProduct(inputs[i], weights) + bias\n        );\n\n        if (prediction === labels[i]) {\n            continue;\n        }\n\n        const alpha = (labels[i] - prediction) * learnRate;\n        bias += alpha;\n\n        for (let j = 0; j < inputs[i].length; j++) {\n            weights[j] += alpha * inputs[i][j];\n        }\n        updatedWeights = true;\n    }\n\n    return {bias, updatedWeights};\n}\n","import { throttle } from \"./utils\";\n\nconst btnRun = document.querySelector(\"#run\");\nconst message = document.querySelector(\"#message\");\nconst epochs = document.querySelector(\"#epochs\")\nconst w1 = document.querySelector(\"#w1\");\nconst w2 = document.querySelector(\"#w2\");\nconst bias = document.querySelector(\"#bias\");\n\nepochs.label = document.querySelector('label[for=\"epochs\"]');\nw1.label = document.querySelector('label[for=\"w1\"]');\nw2.label = document.querySelector('label[for=\"w2\"]');\nbias.label = document.querySelector('label[for=\"bias\"]');\n\nlet drawFunction = () => { };\n\nconst debounceTime = 20;\n\nfunction set(field, value, min = -1, max = 1) {\n    value = parseFloat(value) || 0;\n\n    field.value = value;\n    field.title = value;\n\n    value = Number.isInteger(value) ? value : value.toFixed(2);\n    field.label?.setAttribute('data-value', value);\n}\n\nfunction getParams() {\n    return [\n        [parseFloat(w1.value), parseFloat(w2.value)],\n        parseFloat(bias.value),\n        parseFloat(epochs.value)\n    ]\n}\n\nexport function setParams(weigths, b, eps) {\n    set(w1, weigths[0]);\n    set(w2, weigths[1]);\n    set(bias, b);\n    set(epochs, eps, 1, 50);\n}\n\nexport function setRunFunction(fnc) {\n    btnRun.onclick = () => {\n        message.classList.add(\"hide\");\n        let p = getParams();\n        fnc(p[0], p[1], p[2]);\n    };\n}\n\nexport function setDrawFunction(func) {\n    drawFunction = func;\n}\n\n\nlet onUiUpdate = () => {\n    let p = getParams();\n    drawFunction(p[0], p[1], p[2]);\n};\nfunction onInput(event) {\n    set(event.target, event.target.value);\n    onUiUpdate();\n}\n\nepochs.addEventListener('input', onInput);\nw1.addEventListener('input', throttle(onInput, debounceTime));\nw2.addEventListener('input', onInput);\nbias.addEventListener('input', onInput);\n"],"names":["timeout","$877b248c2695928a$export$15a2497367026b23","$820877bea407f5fe$var$isSamePoint","p1","p2","tolerance","x","Math","abs","y","$820877bea407f5fe$export$de363e709c412c8a","callback","time","isPaused","togglePause","event","setTimeout","$b1758e9a8789aa96$var$btnRun","document","querySelector","$b1758e9a8789aa96$var$message","$b1758e9a8789aa96$var$epochs","$b1758e9a8789aa96$var$w1","$b1758e9a8789aa96$var$w2","$b1758e9a8789aa96$var$bias","label","$b1758e9a8789aa96$var$drawFunction","$b1758e9a8789aa96$var$set","field","value","min","max","parseFloat","title","Number","isInteger","toFixed","setAttribute","$b1758e9a8789aa96$var$getParams","$b1758e9a8789aa96$export$dc1827290674c112","weigths","b","eps","$b1758e9a8789aa96$var$onUiUpdate","p","$b1758e9a8789aa96$var$onInput","target","addEventListener","$c1ce9d969bfa6909$var$canvas","$c1ce9d969bfa6909$var$ctx","getContext","$c1ce9d969bfa6909$var$OGRE","$c1ce9d969bfa6909$var$AZURE","$c1ce9d969bfa6909$var$TWO_PI","PI","$c1ce9d969bfa6909$var$hoveredCoords","$c1ce9d969bfa6909$var$hoveredPoint","$c1ce9d969bfa6909$var$selectedPoint","$c1ce9d969bfa6909$var$lastHoveredIndex","$c1ce9d969bfa6909$var$weights","random","$c1ce9d969bfa6909$var$bias","$c1ce9d969bfa6909$var$epochs","$c1ce9d969bfa6909$var$perceptron","W","result","points","array","sort","inputs","map","e","labels","i","weights","bias","learnRate","updatedWeights","length","prediction","$a944f6a17d15402c$var$innerProduct","v1","v2","sum","alpha","j","requestAnimationFrame","$c1ce9d969bfa6909$var$draw","message","getElementById","classList","remove","add","Promise","resolve","point","clearRect","width","height","$c1ce9d969bfa6909$var$paintClassifier","sign","color","w1","w2","yIntercept","endX","endY","fillStyle","beginPath","moveTo","lineTo","closePath","fill","lineWidth","strokeStyle","stroke","$c1ce9d969bfa6909$var$paintPoints","arc","$c1ce9d969bfa6909$var$resize","clientWidth","clientHeight","transform","translate","window","clearTimeout","preventDefault","offsetX","offsetY","$c1ce9d969bfa6909$var$hoverPoint","index","src","findIndex","srcPoint","style","cursor","$c1ce9d969bfa6909$var$createPointFromClick","button","push","onclick","fnc"],"version":3,"file":"index.45824350.js.map"}